"use strict";!function(e){function a(e){for(var t in e)if(e.hasOwnProperty(t))return;return 1}function i(e){for(var t in e)0===e[t].length&&delete e[t]}function r(e,t){return e.match(/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)?"":"Invalid email format."}function n(e){return'<p class="input-error">'.concat(e,"</p>")}function l(e,t){e.insertAdjacentHTML("afterend",n(t)),e.classList.add("is-invalid")}function s(e){var t=e.parentNode.querySelector(".input-error");e.classList.remove("is-invalid"),t&&t.remove()}function o(e){for(var t=e.querySelectorAll(".input-error"),r=e.querySelectorAll(".is-invalid"),n=0;n<t.length;n++)t[n].remove();for(var a=0;a<r.length;a++)r[a].classList.remove("is-invalid")}var c,u,m=e.getElementById("login-form");m&&(m.setAttribute("novalidate","true"),c=e.getElementById("email"),u=e.getElementById("password"),m.addEventListener("submit",function(e){e.preventDefault();var t="";(e=(e=m).querySelector(".alert--error"))&&e.remove(),e="Enter the correct password and email.",0!==(t=0!==r(c.value).length||0==u.value.length?e:"").length?m.insertAdjacentHTML("afterbegin",'<div class="mb-m">\n                    <p class="alert alert--error">'.concat(t,"</p>\n                </div>")):this.submit()},!1));var d,g,h,f=e.getElementById("registration-form");if(f){f.setAttribute("novalidate","true");var t,v={firstname:{callback:function(e,t){return e.length<2?"Firstname must not be shorter than 2 characters.":50<e.length?"Firstname must not be longer than 50 characters.":e.match(/^[a-zA-Z]*$/)?"":"Only letters allowed."},elem:f.querySelector("#firstname")},lastname:{callback:function(e,t){return e.length<2?"Lastname must not be shorter than 2 characters.":50<e.length?"Lastname must not be longer than 50 characters.":e.match(/^[a-zA-Z]*$/)?"":"Only letters allowed."},elem:f.querySelector("#lastname")},email:{callback:r,elem:f.querySelector("#email")},password:{callback:function(e,t){return e.length<8?"Password must not be shorter than 8 characters.":""},elem:f.querySelector("#password")},"password-repeat":{callback:function(e,t){return e!==t.password.elem.value?"Passwords must match.":""},elem:f.querySelector("#password-repeat")}},p=(d=function(e){var t=e.target,e=v[t.id].callback(t.value,v);s(t),0!==e.length?l(t,e):s(t)},g=100,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];clearTimeout(h),h=setTimeout(function(){clearTimeout(h),d.apply(void 0,t)},g)});for(t in v)v[t].elem.addEventListener("input",p,!1);f.addEventListener("submit",function(e){e.preventDefault();var t,r={};for(t in o(f),v)r[t]=v[t].callback(v[t].elem.value,v);if(i(r),a(r))this.submit();else for(var n in r)l(v[n].elem,r[n])},!1)}var b,y,w=e.getElementById("form-review");w&&(w.setAttribute("novalidate","true"),b=e.getElementById("form-comment-review"),y=e.getElementsByName("rating"),w.addEventListener("submit",function(e){e.preventDefault();e={};o(w),e.description=b.value.length<2?"Review must not be shorter than 2 characters.":500<b.value.length?"Review must not be longer than 500 characters.":"",e.rating=function(){for(var e=null,t=0;t<y.length;t++)if(y[t].checked){e=y[t];break}return e?5<e.value||e.value<1?"Rating must be between 1 and 5.":"":"Please select a rating."}(),0!==e.description.length&&l(b,e.description),0!==e.rating.length&&y[0].parentNode.parentNode.insertAdjacentHTML("afterend",n(e.rating)),i(e),a(e)&&this.submit()},!1));var E,A,L,B,I,k,T=e.getElementById("add-recipe-form");T&&(T.setAttribute("novalidate","true"),E=e.getElementById("form-title"),A=e.getElementById("form-description"),L=e.getElementsByName("ingredients[]"),B=e.getElementsByName("categories[]"),I=e.getElementById("form-images"),k=I.files,T.addEventListener("submit",function(e){e.preventDefault();e={};o(T),e.title=E.value.length<2?"Title must not be shorter than 2 characters.":500<E.value.length?"Title must not be longer than 500 characters.":"",e.description=A.value.length<2?"Description must not be shorter than 2 characters.":1e4<A.value.length?"Description must not be longer than 10 000 characters.":"",e.ingredients=function(){for(var e=0;e<L.length;e++)if(L[e].checked)return"";return"Please select at least one ingredient."}(),e.categories=function(){for(var e=0;e<B.length;e++)if(B[e].checked)return"";return"Please select at least one category."}(),e.images=function(){if(0===k.length)return"Images are required.";for(var e=0;e<k.length;e++)if("image/jpeg"!==k.item(e).type)return"Unsupported image format. Only JPEG.";for(var t=0;t<k.length;t++)if(5242880<k.item(t).size)return"The image must not be larger than 5 megabytes.";return""}(),0!==e.title.length&&l(E,e.title),0!==e.description.length&&l(A,e.description),0!==e.ingredients.length&&L[0].parentNode.parentNode.insertAdjacentHTML("afterend",n(e.ingredients)),0!==e.categories.length&&B[0].parentNode.parentNode.insertAdjacentHTML("afterend",n(e.categories)),0!==e.images.length&&l(I,e.images),i(e),a(e)&&this.submit()},!1))}((window,document));